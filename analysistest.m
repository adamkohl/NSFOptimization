clc
clear all
format longEng

% x =[ 96.0228515960634e+009    81.4080882204249e+009    61.0000000000000e+000    5.00125800455812e+000    865.970814446870e+000    121.477933378409e-003...
% 127.272588197266e-003    12.6394123473400e+000    2.77826461177274e+000    301.334195643673e+000    97.5752003271594e+000    39.4244582745879e+000...
%  104.985399198202e+000    37.3303677454701e+000    2.00000000000000e+000    2.00000000000000e+000    3.00000000000000e+000    2.00000000000000e+000...
% 3.00000000000000e+000    2.00000000000000e+000    3.00000000000000e+000    3.00000000000000e+000    3.00000000000000e+000    2.00000000000000e+000...
% 2.00000000000000e+000    2.00000000000000e+000    2.00000000000000e+000    4.00000000000000e+000    1.00000000000000e+000    3.00000000000000e+000...
%  3.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000];
% 
% % 
% % fval =
% % 
% %    -319.163457988558e+006
% 
% Value1 = -satellite_objective(x)
xx1 =[5e9   5e9   30   20  100   2,...
2  5   5   100  100   40,...
 75    40,...
 2.00000000000000e+000    2.00000000000000e+000,...
 3.00000000000000e+000    2.00000000000000e+000...
3.00000000000000e+000    2.00000000000000e+000,...
3.00000000000000e+000    3.00000000000000e+000,...
3.00000000000000e+000    2.00000000000000e+000...
2.00000000000000e+000    2.00000000000000e+000,...
2.00000000000000e+000    4.00000000000000e+000,...
1.00000000000000e+000    3.00000000000000e+000...
 3.00000000000000e+000    1.00000000000000e+000,...
 1.00000000000000e+000    1.00000000000000e+000,...
 1.00000000000000e+000    1.00000000000000e+000];

xx2 =[5.05e9   5.05e9   30   20.2  101   2.02,...
2.02  5.05   5.05   101  101   40.4,...
 75.75    40.4,...
 2.00000000000000e+000    2.00000000000000e+000,...
 3.00000000000000e+000    2.00000000000000e+000...
3.00000000000000e+000    2.00000000000000e+000,...
3.00000000000000e+000    3.00000000000000e+000,...
3.00000000000000e+000    2.00000000000000e+000...
2.00000000000000e+000    2.00000000000000e+000,...
2.00000000000000e+000    4.00000000000000e+000,...
1.00000000000000e+000    3.00000000000000e+000...
 3.00000000000000e+000    1.00000000000000e+000,...
 1.00000000000000e+000    1.00000000000000e+000,...
 1.00000000000000e+000    1.00000000000000e+000];

xx3 =[4.95e9   4.955e9   30   19.98  99   1.98,...
1.98  4.95   4.95   99  99   39.6,...
 74.25    39.6,...
 2.00000000000000e+000    2.00000000000000e+000,...
 3.00000000000000e+000    2.00000000000000e+000...
3.00000000000000e+000    2.00000000000000e+000,...
3.00000000000000e+000    3.00000000000000e+000,...
3.00000000000000e+000    2.00000000000000e+000...
2.00000000000000e+000    2.00000000000000e+000,...
2.00000000000000e+000    4.00000000000000e+000,...
1.00000000000000e+000    3.00000000000000e+000...
 3.00000000000000e+000    1.00000000000000e+000,...
 1.00000000000000e+000    1.00000000000000e+000,...
 1.00000000000000e+000    1.00000000000000e+000];

xx4 =[5.005e9   5.005e9   30   20  100   2,...
2  5   5   100  100   40,...
 75    40,...
 2.00000000000000e+000    2.00000000000000e+000,...
 3.00000000000000e+000    2.00000000000000e+000...
3.00000000000000e+000    2.00000000000000e+000,...
3.00000000000000e+000    3.00000000000000e+000,...
3.00000000000000e+000    2.00000000000000e+000...
2.00000000000000e+000    2.00000000000000e+000,...
2.00000000000000e+000    4.00000000000000e+000,...
1.00000000000000e+000    3.00000000000000e+000...
 3.00000000000000e+000    1.00000000000000e+000,...
 1.00000000000000e+000    1.00000000000000e+000,...
 1.00000000000000e+000    1.00000000000000e+000];

V = [-satellite_objective(xx1);
    -satellite_objective(xx2);
    -satellite_objective(xx3);
    -satellite_objective(xx4)]

x1 =[ 95e+009    80e+009    61.0000000000000e+000    6e+000   850e+000    200e-003...
200e-003    13e+000    3e+000    302e+000    98e+000    40e+000...
 105e+000    38e+000    2.00000000000000e+000    2.00000000000000e+000    3.00000000000000e+000    2.00000000000000e+000...
3.00000000000000e+000    2.00000000000000e+000    3.00000000000000e+000    3.00000000000000e+000    3.00000000000000e+000    2.00000000000000e+000...
2.00000000000000e+000    2.00000000000000e+000    2.00000000000000e+000    4.00000000000000e+000    1.00000000000000e+000    3.00000000000000e+000...
 3.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000];

x2 =[ 95.05e+009    80.05e+009    61.0000000000000e+000    6.2e+000   851e+000    202e-003...
202e-003    13.05e+000    3.05e+000    303e+000    99e+000    40.4e+000...
 105.5e+000    38.4e+000    2.00000000000000e+000    2.00000000000000e+000    3.00000000000000e+000    2.00000000000000e+000...
3.00000000000000e+000    2.00000000000000e+000    3.00000000000000e+000    3.00000000000000e+000    3.00000000000000e+000    2.00000000000000e+000...
2.00000000000000e+000    2.00000000000000e+000    2.00000000000000e+000    4.00000000000000e+000    1.00000000000000e+000    3.00000000000000e+000...
 3.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000];


x3 =[ 94.05e+009    79.05e+009    61.0000000000000e+000    5.98e+000   849e+000    198e-003...
198e-003    12.05e+000    2.95e+000    300e+000    97e+000    39.6e+000...
 103e+000    37e+000    2.00000000000000e+000    2.00000000000000e+000    3.00000000000000e+000    2.00000000000000e+000...
3.00000000000000e+000    2.00000000000000e+000    3.00000000000000e+000    3.00000000000000e+000    3.00000000000000e+000    2.00000000000000e+000...
2.00000000000000e+000    2.00000000000000e+000    2.00000000000000e+000    4.00000000000000e+000    1.00000000000000e+000    3.00000000000000e+000...
 3.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000];


x4 =[ 95.005e+009    80.005e+009    61.0000000000000e+000    6.005e+000   850.5e+000    200e-003...
200e-003    13e+000    3e+000    302e+000    98e+000    40e+000...
 105e+000    38e+000    2.00000000000000e+000    2.00000000000000e+000    3.00000000000000e+000    2.00000000000000e+000...
3.00000000000000e+000    2.00000000000000e+000    3.00000000000000e+000    3.00000000000000e+000    3.00000000000000e+000    2.00000000000000e+000...
2.00000000000000e+000    2.00000000000000e+000    2.00000000000000e+000    4.00000000000000e+000    1.00000000000000e+000    3.00000000000000e+000...
 3.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000];

V = [-satellite_objective(x1);
    -satellite_objective(x2);
    -satellite_objective(x3);
    -satellite_objective(x4)]

xx1 =[5e9   5e9   10   5  100   1,...
2  3   3   100  100   40,...
 75    40,...
 2.00000000000000e+000    2.00000000000000e+000,...
 3.00000000000000e+000    2.00000000000000e+000...
3.00000000000000e+000    2.00000000000000e+000,...
3.00000000000000e+000    3.00000000000000e+000,...
3.00000000000000e+000    2.00000000000000e+000...
2.00000000000000e+000    2.00000000000000e+000,...
2.00000000000000e+000    4.00000000000000e+000,...
1.00000000000000e+000    3.00000000000000e+000...
 3.00000000000000e+000    1.00000000000000e+000,...
 1.00000000000000e+000    1.00000000000000e+000,...
 1.00000000000000e+000    1.00000000000000e+000];


x_new = [100.000000000000e+009
    100.000000000000e+009
    61.0000000000000e+000
    31.6346263804753e+000
    400.735368521888e+000
    105.000000000000e-003
    105.000000000000e-003
    7.12288301268885e+000
    5.19293608025445e+000
    81.4465004395526e+000
    93.9248291302760e+000
    25.4464881782687e+000
    94.6506325336430e+000
    24.8597583422130e+000
    2.00000000000000e+000
    2.00000000000000e+000
    3.00000000000000e+000
    2.00000000000000e+000
    3.00000000000000e+000
    2.00000000000000e+000
    3.00000000000000e+000
    3.00000000000000e+000
    3.00000000000000e+000
    2.00000000000000e+000
    2.00000000000000e+000
    2.00000000000000e+000
    2.00000000000000e+000
    4.00000000000000e+000
    1.00000000000000e+000
    3.00000000000000e+000
    3.00000000000000e+000
    1.00000000000000e+000
    1.00000000000000e+000
    1.00000000000000e+000
    1.00000000000000e+000
    1.00000000000000e+00];

x_new = [50.0001487631822e+009
    50.0001507339654e+009
    61.0000000000000e+000
    14.7986039062799e+000
    315.000000000000e+000
    677.133916068376e-003
    2.50358708721241e+000
    4.27347310040831e+000
    4.28610928070274e+000
    98.0848853793876e+000
    100.073519076965e+000
    40.1748093045555e+000
    74.8217620984983e+000
    39.9692627914109e+000
    2.00000000000000e+000
    2.00000000000000e+000
    3.00000000000000e+000
    2.00000000000000e+000
    3.00000000000000e+000
    2.00000000000000e+000
    3.00000000000000e+000
    3.00000000000000e+000
    3.00000000000000e+000
    2.00000000000000e+000
    2.00000000000000e+000
    2.00000000000000e+000
    2.00000000000000e+000
    4.00000000000000e+000
    1.00000000000000e+000
    3.00000000000000e+000
    3.00000000000000e+000
    1.00000000000000e+000
    1.00000000000000e+000
    1.00000000000000e+000
    1.00000000000000e+000
    1.00000000000000e+000
];
Value = -satellite_objective(x_new)

% x =[20e+009    20e+009    50e+000    5 ...
% 500    1    1    5 ...
% 5    0    103    35 ...
% 1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000...
% 1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000...
% 1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000...
% 1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000...
% 1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000    1.00000000000000e+000...
% 1.00000000000000e+000    1.00000000000000e+000];
% % x  = [8238155000,43966846000,96,221.53423,5183.6406,0.5198181,4.64817,9.648758,7.2881107,260.12015,80.60184,44.16679,...
% % 2,1,2,2,1,2,4,4,2,2,2,2,2,4,3,3,3,1,2,2,2,2]
% 
%  x = [61404095000.0000	14335753000.0000	58	234.695650000000	4834.41900000000	4.40283600000000	0.593398330000000	13.6214170000000	3.70491500000000	352.131900000000	109.195816000000	40.3454900000000...
%      1	2	4	1	3	2	4	3	2	1	1	2	2	3	2	1	3	2	2	2	1	2]

%  x = [61404095000.0000	14335753000.0000	58	234.695650000000	4834.41900000000	4.40283600000000	0.593398330000000	13.6214170000000	3.70491500000000	352.131900000000	109.195816000000	40.3454900000000...
%      1	2	4	1	3	2	4	3	2	1	1	2	2	3	2	1	3	2	2	2	1	2]
% %  
%  x = [95172615000.0000	94703810000.0000	44	151.158810000000	8635.68300000000	...
%      1.60302260000000	2.01924010000000	14.7337675000000	10.0385685000000	...
%      305.356450000000	85.2508600000000	27.8302600000000...
%      1	2	1	3	1	1	3	3	1	2	1	1	2	2	1	3	2	2	1	2	1	1]

% operational_lifetime = 10;
% f = x(1);
% fup = x(2);
% N = x(3);
% Pst = x(4);
% Pgt = x(5);
% Dsat_trans = x(6);
% Dsat_rec = x(7);
% Dground_rec = x(8);
% Dground_trans = x(9);
% Sat_long = x(10);
% Ground_long = x(11);
% Ground_lat = x(12);
% Ground_long_r = x(13);
% Ground_lat_r = x(14);
% Amp = x(15);
% Prop_tech = x(16);
% Prop = x(17);
% Batt = x(18);
% SA_material = x(19);
% a_e_SA = x(20);
% a_e_trans_antenna = x(21);
% a_e_rec_antenna = x(22);
% a_e_bus = x(23);
% eps_rad_battery = x(24);
% eps_rad_RW = x(25);
% eps_rad_tank = x(26);
% bus_config = x(27);
% bus_material = x(28);
% Prop_tank_material = x(29);
% launchsite = x(30);
% Launch_vehicle = x(31);
% Controller = x(32);
% Ant_type = x(33);
% Ant_type_ground = x(34);
% Power = x(35);
% Thermal = x(36);
% h = 3.5786000*10^7; 
% Sat_system_analysis_out = sat_system_analysis(f,fup,N,Pst,Pgt,Dsat_trans,Dsat_rec,Dground_trans,Dground_rec,Sat_long,Ground_long,Ground_lat,...
%       Amp,Prop_tech,Prop,Batt,SA_material,a_e_SA,a_e_trans_antenna,a_e_rec_antenna,a_e_bus,...
%       eps_rad_battery,eps_rad_RW,eps_rad_tank,bus_config,bus_material,Prop_tank_material,launchsite,Launch_vehicle,Controller,Ant_type,Ant_type_ground,...
%       Power,Thermal,Ground_long_r,Ground_lat_r)
% Scorecard_no_coupling(x);
% 
% M_payload = 100;
% M_SA = 100;
% Battery_mass = 100;
% M_ADCS = 100;
% M_thermal = 100;
% M_bus = 100;
% % propulsion_SSL1(Prop,Prop_tech,Prop_tank_material,...
% %     M_payload,M_SA,Battery_mass,M_ADCS,M_thermal,M_bus)
% 
% P_payload = 100;
% P_ADCS = 100;
% P_Thermal = 100;
% 
% power_SSL1_analysis(P_payload,P_ADCS,P_Thermal,Power,SA_material,Batt);
% Array_size = 50;
% % L_structures = 1;
% % r_structures = 0.5;
% % hs = 1;
% % ws = 0.5;
% M_propulsion = 100;
% V_trans = 1;
% V_propellanttank = 1;
% V_RW = 1;
% V_batt =1;
% structures_SSL1_analysis(bus_config,Launch_vehicle,M_ADCS,M_thermal,M_payload,M_propulsion,...
%     M_SA,Battery_mass,V_trans,V_propellanttank,V_RW,V_batt,bus_material)
% sat_system_analysis(f,fup,N,Pst,Pgt,Dsat_trans,Dsat_rec,Dground_trans,Dground_rec,Sat_long,Ground_long,Ground_lat,...
%       Amp,Prop_tech,Prop,Batt,SA_material,a_e_SA,a_e_trans_antenna,a_e_rec_antenna,a_e_bus,...
%       eps_rad_battery,eps_rad_RW,eps_rad_tank,bus_config,bus_material,Prop_tank_material,launchsite,Launch_vehicle,Controller,Ant_type,Ant_type_ground,...
%       Power,Thermal)

% thermal_SSL1_analysis(Thermal,a_e_SA,a_e_trans_antenna,a_e_rec_antenna,a_e_bus,...
%     Controller,eps_rad_battery,eps_rad_RW,eps_rad_tank,...
%     Array_size,Dsat_trans,Dsat_rec,L_structures,r_structures,hs,ws,bus_config)

% system_analysis(f,fup,N,Pst,Pgt,Dsat_trans,Dsat_rec,Dground_trans,Dground_rec,Sat_long,Ground_long,Ground_lat,...
%       Amp,Prop_tech,Prop,Batt,SA_material,a_e_SA,a_e_trans_antenna,a_e_rec_antenna,a_e_bus,...
%       eps_rad_battery,eps_rad_RW,eps_rad_tank,bus_config,bus_material,Prop_tank_material,...
%       launchsite,Launch_vehicle,Controller,Ant_type,Ant_type_ground,Power)
% Gr_ground = 1;
% payloadanalysis(f,fup,N,Pst,Dsat_trans,Dsat_rec,Sat_long,Ground_long,Ground_lat,...
%     Amp,Gr_ground)
% 

% Elevation = 100;
% Gr_sat = 1;
% groundanalysis(f,fup,Pgt,Ground_long,Ground_lat,Dground_trans,Dground_rec,...
%     Elevation,Gr_sat)

% M_payload = 100;
% M_SA = 100;
% Battery_mass = 100;
% M_ADCS = 100;
% M_thermal = 100;
% M_bus = 100;
% propulsionanalysis(Prop,Prop_tech,Prop_tank_material,M_payload,M_SA,Battery_mass,M_ADCS,M_thermal,M_bus)


% P_payload = 100;
% P_ADCS = 100;
% P_Thermal = 100;
% poweranalysis(SA_material,Batt,P_payload,P_ADCS,P_Thermal)




% Array_size = 50;
% L_structures = 1;
% r_structures = 0.5;
% hs = 1;
% ws = 0.5;
% 
% thermalanalysis(a_e_SA,a_e_trans_antenna,a_e_rec_antenna,a_e_bus,Controller,eps_rad_battery,eps_rad_RW,eps_rad_tank,...
%     Array_size,Dsat_trans,Dsat_rec,L_structures,r_structures,hs,ws,bus_config)
% 
% M_ADCS = 100;
% M_thermal = 100;
% M_payload = 100;
% M_propulsion = 100;
% M_SA = 100;
% Battery_mass = 100;
% V_trans = 1;
% V_propellanttank = 1;
% V_RW = 1;
% V_batt = 1;

% structuresanalysis(bus_config,bus_material,Launch_vehicle,M_ADCS,M_thermal,M_payload,M_propulsion,M_SA,Battery_mass,...
%                                             V_trans,V_propellanttank,V_RW,V_batt)
                                        
% Structuresout_SSL2_SS1 = structures_SSL2_SS1(bus_material);
%     ro_bus = Structuresout_SSL2_SS1(1)
%     E = Structuresout_SSL2_SS1(2)
%     F_tu = Structuresout_SSL2_SS1(3)
%     F_ty = Structuresout_SSL2_SS1(4)
%     FOS_ulti = Structuresout_SSL2_SS1(5)
%     FOS_yield = Structuresout_SSL2_SS1(6)
%     Cost_bus_per_kg = Structuresout_SSL2_SS1(7);
% Structuresout_SSL1 = structures_SSL1(bus_config,ro_bus,E,F_tu,F_ty,FOS_ulti,FOS_yield,Cost_bus_per_kg,...
%     Launch_vehicle,M_ADCS,M_thermal,M_payload,M_propulsion,M_SA,Battery_mass,V_trans,V_propellanttank,V_RW,V_batt);
%     Cost_structures = Structuresout_SSL1(1);
%     M_bus_new = Structuresout_SSL1(2)
%     L_structures_new = Structuresout_SSL1(3)
%     r_structures_new = Structuresout_SSL1(4)
%     t_structures_new = Structuresout_SSL1(5)
%     hs_new = Structuresout_SSL1(6)
%     ws_new = Structuresout_SSL1(7)
%     V_bus = Structuresout_SSL1(8)
%     Ix_structures_new = Structuresout_SSL1(9)
%     Iy_structures_new = Structuresout_SSL1(10)
%     Iz_structures_new = Structuresout_SSL1(11)

% launchvehicleanalysis(launchsite,Launch_vehicle,M_propulsion,M_thermal,...
%     M_SA,Battery_mass,M_bus,M_ADCS,M_payload)                                        
% [y] = satellite_objective(x)
% [Eb_No_down,Eb_No_up,Cost_payload,Cost_groundstation,Cost_propulsion,Cost_power,Cost_ADCS,Cost_thermal,Cost_structures,Cost_lv]...
%     = analysisfunction(f,fup,N,Pst,Pgt,Dsat_trans,Dsat_rec,Dground_trans,Dground_rec,Sat_long,Ground_long,Ground_lat,...
%       Amp,Prop_tech,Prop,Batt,SA_material,a_e_SA,a_e_trans_antenna,a_e_rec_antenna,a_e_bus,...
%       eps_rad_battery,eps_rad_RW,eps_rad_tank,bus_config,bus_material,Prop_tank_material,launchsite,Launch_vehicle,Controller);

%  System_analysis = system_analysis(f,fup,N,Pst,Pgt,Dsat_trans,Dsat_rec,Dground_trans,Dground_rec,Sat_long,Ground_long,Ground_lat,...
%       Amp,Prop_tech,Prop,Batt,SA_material,a_e_SA,a_e_trans_antenna,a_e_rec_antenna,a_e_bus,...
%       eps_rad_battery,eps_rad_RW,eps_rad_tank,bus_config,bus_material,Prop_tank_material,launchsite,Launch_vehicle,Controller,Ant_type);
% Satsystemout = satsystem(N,Eb_No_down,Eb_No_up,Cost_payload,Cost_groundstation,Cost_propulsion,...
%     Cost_power,Cost_ADCS,Cost_thermal,Cost_structures,Cost_lv);
% Revenue = Satsystemout(1:10);
% Total_revenue = Satsystemout(11);
% Total_cost = Satsystemout(12);
% 
% Valueout = valuefunction(Total_cost,Revenue);



                            